!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.csso=e()}}(function(){return function e(t,r,n){function o(a,s){if(!r[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[a]={exports:{}};t[a][0].call(c.exports,function(e){var r=t[a][1][e];return o(r?r:e)},c,c.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){t.exports=function(e,t,r){if(e.block){if(this.root.firstAtrulesAllowed=!1,"Block"===e.block.type&&e.block.declarations.isEmpty())return void r.remove(t);if("StyleSheet"===e.block.type&&e.block.rules.isEmpty())return void r.remove(t)}switch(e.name){case"charset":if(e.expression.sequence.isEmpty())return void r.remove(t);if(t.prev)return void r.remove(t);break;case"import":if(!this.root.firstAtrulesAllowed)return void r.remove(t);r.prevUntil(t.prev,function(e){return"Atrule"!==e.type||"import"!==e.name&&"charset"!==e.name?(this.root.firstAtrulesAllowed=!1,r.remove(t),!0):void 0},this)}}},{}],2:[function(e,t,r){t.exports=function(e,t,r){r.remove(t)}},{}],3:[function(e,t,r){t.exports=function(e,t,r){e.value.sequence.isEmpty()&&r.remove(t)}},{}],4:[function(e,t,r){t.exports=function(e,t,r){null!==this.selector&&"*"===e.name&&t.next&&"Combinator"!==t.next.data.type&&r.remove(t)}},{}],5:[function(e,t,r){function n(e,t){return e.selector.selectors.each(function(e,r,n){var i=e.sequence.some(function(e){switch(e.type){case"Class":return t.classes&&!o.call(t.classes,e.name);case"Id":return t.ids&&!o.call(t.ids,e.name);case"Identifier":if("*"!==e.name)return t.tags&&!o.call(t.tags,e.name.toLowerCase())}});i&&n.remove(r)})}var o=Object.prototype.hasOwnProperty;t.exports=function(e,t,r,o){o&&n(e,o),(e.selector.selectors.isEmpty()||e.block.declarations.isEmpty())&&r.remove(t)}},{}],6:[function(e,t,r){function n(e){return"Operator"!==e.type?!1:"+"!==e.value&&"-"!==e.value}t.exports=function(e,t,r){var o=t.prev&&t.prev.data,i=t.next&&t.next.data;(n(o)||n(i))&&r.remove(t)}},{}],7:[function(e,t,r){var n=e("../../utils/walk.js").all,o={Space:e("./Space.js"),Atrule:e("./Atrule.js"),Ruleset:e("./Ruleset.js"),Declaration:e("./Declaration.js"),Identifier:e("./Identifier.js"),Comment:e("./Comment.js")};t.exports=function(e,t){n(e,function(e,r,n){o.hasOwnProperty(e.type)&&o[e.type].call(this,e,r,n,t)})}},{"../../utils/walk.js":44,"./Atrule.js":1,"./Comment.js":2,"./Declaration.js":3,"./Identifier.js":4,"./Ruleset.js":5,"./Space.js":6}],8:[function(e,t,r){var n=e("../../utils/names.js").keyword,o=e("./atrule/keyframes.js");t.exports=function(e){"keyframes"===n(e.name).name&&o(e)}},{"../../utils/names.js":41,"./atrule/keyframes.js":15}],9:[function(e,t,r){function n(e){return""!==e&&"-"!==e?(e=e.replace(o,"a"),!i.test(e)):void 0}var o=/\\([0-9A-Fa-f]{1,6})[ \t\n\f\r]?|\\./g,i=/^(-?\d|--)|[\u0000-\u002c\u002e\u002f\u003A-\u0040\u005B-\u005E\u0060\u007B-\u009f]/;t.exports=function(e){var t=e.value;if(t&&"String"===t.type){var r=t.value.replace(/^(.)(.*)\1$/,"$2");n(r)&&(e.value={type:"Identifier",info:t.info,name:r})}}},{}],10:[function(e,t,r){var n=e("./Number.js").pack,o={px:!0,mm:!0,cm:!0,"in":!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vh:!0,vw:!0,vmin:!0,vmax:!0,vm:!0};t.exports=function(e,t){var r=n(e.value);if(e.value=r,"0"===r&&this.declaration){var i=e.unit.toLowerCase();if(!o.hasOwnProperty(i))return;if("flex"===this.declaration.property.name)return;if(this["function"]&&"calc"===this["function"].name)return;t.data={type:"Number",info:e.info,value:r}}}},{"./Number.js":11}],11:[function(e,t,r){function n(e){return e=String(e).replace(/^(?:\+|(-))?0*(\d*)(?:\.0*|(\.\d*?)0*)?$/,"$1$2$3"),(0===e.length||"-"===e)&&(e="0"),e}t.exports=function(e){e.value=n(e.value)},t.exports.pack=n},{}],12:[function(e,t,r){t.exports=function(e){var t=e.value;t=t.replace(/\\\n/g,""),e.value=t}},{}],13:[function(e,t,r){var n="\\\\[0-9a-f]{1,6}(\\r\\n|[ \\n\\r\\t\\f])?",o="("+n+"|\\\\[^\\n\\r\\f0-9a-fA-F])",i="\x00\b\x0B-",a=new RegExp("^("+o+"|[^\"'\\(\\)\\\\\\s"+i+"])*$","i");t.exports=function(e){var t=e.value;if("String"===t.type){var r=t.value[0],n=t.value.substr(1,t.value.length-2);n=n.replace(/\\\\/g,"/"),a.test(n)?e.value={type:"Raw",info:e.value.info,value:n}:e.value.value=-1===n.indexOf('"')?'"'+n+'"':r+n+r}}},{}],14:[function(e,t,r){var n=e("../../utils/names.js").property,o={font:e("./property/font.js"),"font-weight":e("./property/font-weight.js"),background:e("./property/background.js")};t.exports=function(e){if(this.declaration){var t=n(this.declaration.property.name);o.hasOwnProperty(t.name)&&o[t.name](e)}}},{"../../utils/names.js":41,"./property/background.js":18,"./property/font-weight.js":19,"./property/font.js":20}],15:[function(e,t,r){t.exports=function(e){e.block.rules.each(function(e){e.selector.selectors.each(function(e){e.sequence.each(function(e,t){"Percentage"===e.type&&"100"===e.value?t.data={type:"Identifier",info:e.info,name:"to"}:"Identifier"===e.type&&"from"===e.name&&(t.data={type:"Percentage",info:e.info,value:"0"})})})})}},{}],16:[function(e,t,r){function n(e,t,r){return 0>r&&(r+=1),r>1&&(r-=1),1/6>r?e+6*(t-e)*r:.5>r?t:2/3>r?e+(t-e)*(2/3-r)*6:e}function o(e,t,r,o){var i,a,s;if(0==t)i=a=s=r;else{var l=.5>r?r*(1+t):r+t-r*t,u=2*r-l;i=n(u,l,e+1/3),a=n(u,l,e),s=n(u,l,e-1/3)}return[Math.round(255*i),Math.round(255*a),Math.round(255*s),o]}function i(e){return e=e.toString(16),1===e.length?"0"+e:e}function a(e,t,r){for(var n=e.head,o=[];null!==n;){for(var i=n.data.sequence.head,a=!1;null!==i;){var s=i.data,l=s.type;switch(l){case"Number":case"Percentage":if(a)return;a=!0,o.push({type:l,value:Number(s.value)});break;case"Operator":if(a||"+"!==s.value)return;break;default:return}i=i.next}n=n.next}if(o.length===t){if(4===o.length){if("Number"!==o[3].type)return;o[3].type="Alpha"}if(r){if(o[0].type!==o[1].type||o[0].type!==o[2].type)return}else{if("Number"!==o[0].type||"Percentage"!==o[1].type||"Percentage"!==o[2].type)return;o[0].type="Angle"}return o.map(function(e){var t=Math.max(0,e.value);switch(e.type){case"Number":t=Math.min(t,255);break;case"Percentage":if(t=Math.min(t,100)/100,!r)return t;t=255*t;break;case"Angle":return(t%360+360)%360/360;case"Alpha":return Math.min(t,1)}return Math.round(t)})}}function s(e,t,r){var n,s=e.name;if("rgba"===s||"hsla"===s){if(n=a(e.arguments,4,"rgba"===s),!n)return;if("hsla"===s&&(n=o.apply(null,n),e.name="rgba"),1!==n[3])return void e.arguments.each(function(e){var t=e.sequence.head;"Operator"===t.data.type&&(t=t.next),e.sequence=new c([{type:"Number",info:t.data.info,value:p(n.shift())}])});s="rgb"}if("hsl"===s){if(n=n||a(e.arguments,3,!1),!n)return;n=o.apply(null,n),s="rgb"}if("rgb"===s){if(n=n||a(e.arguments,3,!0),!n)return;var l=t.next;l&&"Space"!==l.data.type&&r.insert(r.createItem({type:"Space"}),l),t.data={type:"Hash",info:e.info,value:i(n[0])+i(n[1])+i(n[2])},u(t.data,t)}}function l(e,t){if(null!==this.declaration){var r=e.name.toLowerCase();if(f.hasOwnProperty(r)){var n=f[r];n.length+1<=r.length?t.data={type:"Hash",info:e.info,value:n}:("grey"===r&&(r="gray"),e.name=r)}}}function u(e,t){var r=e.value.toLowerCase();6===r.length&&r[0]===r[1]&&r[2]===r[3]&&r[4]===r[5]&&(r=r[0]+r[2]+r[4]),h[r]?t.data={type:"Identifier",info:e.info,name:h[r]}:e.value=r}var c=e("../../utils/list.js"),p=e("./Number.js").pack,f={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},h={800000:"maroon",800080:"purple",808000:"olive",808080:"gray","00ffff":"cyan",f0ffff:"azure",f5f5dc:"beige",ffe4c4:"bisque","000000":"black","0000ff":"blue",a52a2a:"brown",ff7f50:"coral",ffd700:"gold","008000":"green","4b0082":"indigo",fffff0:"ivory",f0e68c:"khaki","00ff00":"lime",faf0e6:"linen","000080":"navy",ffa500:"orange",da70d6:"orchid",cd853f:"peru",ffc0cb:"pink",dda0dd:"plum",f00:"red",ff0000:"red",fa8072:"salmon",a0522d:"sienna",c0c0c0:"silver",fffafa:"snow",d2b48c:"tan","008080":"teal",ff6347:"tomato",ee82ee:"violet",f5deb3:"wheat",ffffff:"white",ffff00:"yellow"};t.exports={compressFunction:s,compressIdent:l,compressHex:u}},{"../../utils/list.js":40,"./Number.js":11}],17:[function(e,t,r){var n=e("../../utils/walk.js").all,o={Atrule:e("./Atrule.js"),Attribute:e("./Attribute.js"),Value:e("./Value.js"),Dimension:e("./Dimension.js"),Percentage:e("./Number.js"),Number:e("./Number.js"),String:e("./String.js"),Url:e("./Url.js"),Hash:e("./color.js").compressHex,Identifier:e("./color.js").compressIdent,Function:e("./color.js").compressFunction};t.exports=function(e){n(e,function(e,t,r){o.hasOwnProperty(e.type)&&o[e.type].call(this,e,t,r)})}},{"../../utils/walk.js":44,"./Atrule.js":8,"./Attribute.js":9,"./Dimension.js":10,"./Number.js":11,"./String.js":12,"./Url.js":13,"./Value.js":14,"./color.js":16}],18:[function(e,t,r){var n=e("../../../utils/list.js");t.exports=function(e){function t(){return i.length?i[i.length-1].type:void 0}function r(){"Space"===t()&&i.pop(),i.length||i.unshift({type:"Number",value:"0"},{type:"Space"},{type:"Number",value:"0"}),o.push.apply(o,i),i=[]}var o=[],i=[];e.sequence.each(function(e){return"Operator"===e.type&&","===e.value?(r(),void o.push(e)):void(("Identifier"!==e.type||"transparent"!==e.name&&"none"!==e.name&&"repeat"!==e.name&&"scroll"!==e.name)&&("Space"!==e.type||i.length&&"Space"!==t())&&i.push(e))}),r(),e.sequence=new n(o)}},{"../../../utils/list.js":40}],19:[function(e,t,r){t.exports=function(e){var t=e.sequence.head.data;if("Identifier"===t.type)switch(t.name){case"normal":e.sequence.head.data={type:"Number",info:t.info,value:"400"};break;case"bold":e.sequence.head.data={type:"Number",info:t.info,value:"700"}}}},{}],20:[function(e,t,r){t.exports=function(e){var t=e.sequence;t.eachRight(function(e,t){if("Identifier"===e.type)if("bold"===e.name)t.data={type:"Number",info:e.info,value:"700"};else if("normal"===e.name){var r=t.prev;r&&"Operator"===r.data.type&&"/"===r.data.value&&this.remove(r),this.remove(t)}else if("medium"===e.name){var n=t.next;n&&"Operator"===n.data.type||this.remove(t)}}),t.each(function(e,t){"Space"===e.type&&(t.prev&&t.next&&"Space"!==t.next.data.type||this.remove(t))}),t.isEmpty()&&t.insert(t.createItem({type:"Identifier",name:"normal"}))}},{}],21:[function(e,t,r){function n(e){var t,r=new i,n=!1;return e.rules.nextUntil(e.rules.head,function(e,o,i){return"Comment"===e.type&&"!"===e.value.charAt(0)?n||t?!0:(i.remove(o),void(t=e)):("Space"!==e.type&&(n=!0),void r.insert(i.remove(o)))}),{comment:t,stylesheet:{type:"StyleSheet",rules:r}}}function o(e,t,r,n){n("Compress block #"+r,null,!0);var o=1;return e.firstAtrulesAllowed=e.firstAtrulesAllowed,c(e,function(){this.stylesheet.id||(this.stylesheet.id=o++)}),n("init",e),s(e,t),n("clean",e),l(e,t),n("compress",e),e}var i=e("../utils/list"),a=e("./usage"),s=e("./clean"),l=e("./compress"),u=e("./restructure"),c=e("../utils/walk").rules;t.exports=function(e,t){t=t||{},e=e||{type:"StyleSheet",rules:new i};var r,s,l="function"==typeof t.logger?t.logger:Function(),c="restructure"in t?t.restructure:"restructuring"in t?t.restructuring:!0,p=new i,f=!0,h=1,d=!1,m=!1,g=e.info||null;"StyleSheet"!==e.type&&(d=!0,e={type:"StyleSheet",rules:new i([{type:"Ruleset",selector:{type:"Selector",selectors:new i([{type:"SimpleSelector",sequence:new i([{type:"Identifier",name:"x"}])}])},block:e}])}),t.usage&&(m=a.buildIndex(t.usage));do{if(r=n(e),r.stylesheet.firstAtrulesAllowed=f,r.stylesheet=o(r.stylesheet,m,h++,l),c&&u(r.stylesheet,m,l),s=r.stylesheet.rules,r.comment&&(p.isEmpty()||p.insert(i.createItem({type:"Raw",value:"\n"})),p.insert(i.createItem(r.comment)),s.isEmpty()||p.insert(i.createItem({type:"Raw",value:"\n"}))),f&&!s.isEmpty()){var v=s.last();("Atrule"!==v.type||"import"!==v.name&&"charset"!==v.name)&&(f=!1)}p.appendList(s)}while(!e.rules.isEmpty());return p=d?p.isEmpty()?{type:"Block",info:g,declarations:new i}:p.first().block:{type:"StyleSheet",info:g,rules:p},{ast:p}}},{"../utils/list":40,"../utils/walk":44,"./clean":7,"./compress":17,"./restructure":29,"./usage":35}],22:[function(e,t,r){function n(e,t,r){var n=e.selector.selectors,i=e.block.declarations;r.prevUntil(t.prev,function(a){if("Ruleset"!==a.type)return o.unsafeToSkipNode.call(n,a);var s=a.selector.selectors,l=a.block.declarations;if(e.pseudoSignature===a.pseudoSignature){if(o.isEqualLists(s,n))return l.appendList(i),r.remove(t),!0;if(o.isEqualDeclarations(i,l))return o.addSelectors(s,n),r.remove(t),!0}return o.hasSimilarSelectors(n,s)})}var o=e("./utils.js"),i=e("../../utils/walk.js").rules;t.exports=function(e){i(e,function(e,t,r){"Ruleset"===e.type&&n(e,t,r)})}},{"../../utils/walk.js":44,"./utils.js":34}],23:[function(e,t,r){function n(e){return"Atrule"===e.type&&"media"===e.name}function o(e,t,r){if(n(e)){var o=t.prev&&t.prev.data;o&&n(o)&&e.expression.id===o.expression.id&&(o.block.rules.appendList(e.block.rules),o.info={primary:o.info,merged:e.info},r.remove(t))}}var i=e("../../utils/walk.js").rulesRight;t.exports=function(e){i(e,function(e,t,r){"Atrule"===e.type&&o(e,t,r)})}},{"../../utils/walk.js":44}],24:[function(e,t,r){function n(e,t,r){for(var n=e.selector.selectors;n.head!==n.tail;){var i=new o;i.insert(n.remove(n.head)),r.insert(r.createItem({type:"Ruleset",info:e.info,pseudoSignature:e.pseudoSignature,selector:{type:"Selector",info:e.selector.info,selectors:i},block:{type:"Block",info:e.block.info,declarations:e.block.declarations.copy()}}),t)}}var o=e("../../utils/list.js"),i=e("../../utils/walk.js").rulesRight;t.exports=function(e){i(e,function(e,t,r){"Ruleset"===e.type&&n(e,t,r)})}},{"../../utils/list.js":40,"../../utils/walk.js":44}],25:[function(e,t,r){function n(e){this.name=e,this.info=null,this.iehack=void 0,this.sides={top:null,right:null,bottom:null,left:null}}function o(e,t,r,o){var i=e.block.declarations,a=e.selector.selectors.first().id;return e.block.declarations.eachRight(function(e,s){var l=e.property.name;if(v.hasOwnProperty(l)){var p,f,h=v[l];o&&a!==o||h in t&&(f=c,p=t[h]),p&&p.add(l,e.value,e.info)||(f=u,p=new n(h),p.add(l,e.value,e.info)),t[h]=p,r.push({operation:f,block:i,item:s,shorthand:p}),o=a}}),o}function i(e,t){e.forEach(function(e){var r=e.shorthand;r.isOkToMinimize()&&(e.operation===u?e.item.data=t({type:"Declaration",info:r.info,property:r.getProperty(),value:r.getValue(),id:0,length:0,fingerprint:null}):e.block.remove(e.item))})}var a=e("../../utils/list.js"),s=e("../../utils/translate.js"),l=e("../../utils/walk.js").rulesRight,u=1,c=2,p=0,f=1,h=2,d=3,m=["top","right","bottom","left"],g={"margin-top":"top","margin-right":"right","margin-bottom":"bottom","margin-left":"left","padding-top":"top","padding-right":"right","padding-bottom":"bottom","padding-left":"left","border-top-color":"top","border-right-color":"right","border-bottom-color":"bottom","border-left-color":"left","border-top-width":"top","border-right-width":"right","border-bottom-width":"bottom","border-left-width":"left","border-top-style":"top","border-right-style":"right","border-bottom-style":"bottom","border-left-style":"left"},v={margin:"margin","margin-top":"margin","margin-right":"margin","margin-bottom":"margin","margin-left":"margin",padding:"padding","padding-top":"padding","padding-right":"padding","padding-bottom":"padding","padding-left":"padding","border-color":"border-color","border-top-color":"border-color","border-right-color":"border-color","border-bottom-color":"border-color","border-left-color":"border-color","border-width":"border-width","border-top-width":"border-width","border-right-width":"border-width","border-bottom-width":"border-width","border-left-width":"border-width","border-style":"border-style","border-top-style":"border-style","border-right-style":"border-style","border-bottom-style":"border-style","border-left-style":"border-style"};n.prototype.getValueSequence=function(e,t){var r=[],n=!1,o=e.sequence.some(function(t){var o=!1;switch(t.type){case"Identifier":switch(t.name){case"\\9":return void(n=!0);case"inherit":case"initial":case"unset":case"revert":o=t.name}break;case"Dimension":switch(t.unit){case"rem":case"vw":case"vh":case"vmin":case"vmax":case"vm":o=t.unit}break;case"Number":case"Percentage":break;case"Space":return!1;default:return!0}r.push({node:t,special:o,important:e.important})});return o||r.length>t?!1:"boolean"==typeof this.iehack&&this.iehack!==n?!1:(this.iehack=n,r)},n.prototype.canOverride=function(e,t){var r=this.sides[e];return!r||t.important&&!r.important},n.prototype.add=function(e,t,r){function n(){var r=this.sides,n=g[e];if(n){if(n in r){var o=this.getValueSequence(t,1);if(!o||!o.length)return!1;for(var i in r)if(null!==r[i]&&r[i].special!==o[0].special)return!1;return this.canOverride(n,o[0])?(r[n]=o[0],!0):!0}}else if(e===this.name){var o=this.getValueSequence(t,4);if(!o||!o.length)return!1;switch(o.length){case 1:o[f]=o[p],o[h]=o[p],o[d]=o[p];break;case 2:o[h]=o[p],o[d]=o[f];break;case 3:o[d]=o[f]}for(var a=0;4>a;a++)for(var i in r)if(null!==r[i]&&r[i].special!==o[a].special)return!1;for(var a=0;4>a;a++)this.canOverride(m[a],o[a])&&(r[m[a]]=o[a]);return!0}}return n.call(this)?(this.info?this.info={primary:this.info,merged:r}:this.info=r,!0):!1},n.prototype.isOkToMinimize=function(){var e=this.sides.top,t=this.sides.right,r=this.sides.bottom,n=this.sides.left;if(e&&t&&r&&n){var o=e.important+t.important+r.important+n.important;return 0===o||4===o}return!1},n.prototype.getValue=function(){var e=[],t=this.sides,r=[t.top,t.right,t.bottom,t.left],n=[s(t.top.node),s(t.right.node),s(t.bottom.node),s(t.left.node)];n[d]===n[f]&&(r.pop(),n[h]===n[p]&&(r.pop(),n[f]===n[p]&&r.pop()));for(var o=0;o<r.length;o++)o&&e.push({type:"Space"}),e.push(r[o].node);return this.iehack&&e.push({type:"Space"},{type:"Identifier",info:{},name:"\\9"}),{type:"Value",info:{},important:t.top.important,sequence:new a(e)}},n.prototype.getProperty=function(){return{type:"Property",info:{},name:this.name}},t.exports=function(e,t){var r={},n=[];l(e,function(e){if("Ruleset"===e.type){var t,i,a=this.stylesheet,s=(e.pseudoSignature||"")+"|"+e.selector.selectors.first().id;r.hasOwnProperty(a.id)?t=r[a.id]:(t={lastShortSelector:null},r[a.id]=t),t.hasOwnProperty(s)?i=t[s]:(i={},t[s]=i),t.lastShortSelector=o.call(this,e,i,n,t.lastShortSelector)}}),i(n,t.declaration)}},{"../../utils/list.js":40,"../../utils/translate.js":42,"../../utils/walk.js":44}],26:[function(e,t,r){function n(e,t,r){var n=a(e).name;if("background"===n||"filter"===n&&"Progid"===t.value.sequence.first().type)return e+":"+u(t.value);var o=t.id,i=r[o];if(!i){var l="",c="",f={};t.value.sequence.each(function h(e){switch(e.type){case"Argument":case"Value":case"Braces":e.sequence.each(h);break;case"Identifier":var t=e.name;l||(l=s(t).vendor),"\\9"===t&&(c=t),p.hasOwnProperty(n)&&p[n].test(t)&&(f[t]=!0);break;case"Function":var t=e.name;l||(l=s(t).vendor),"rect"===t&&e.arguments.size<4&&(t="rect-backward"),f[t+"()"]=!0,e.arguments.each(h);break;case"Dimension":var r=e.unit;switch(r){case"rem":case"vw":case"vh":case"vmin":case"vmax":case"vm":f[r]=!0}}}),i="|"+Object.keys(f).sort()+"|"+c+l,r[o]=i}return e+i}function o(e,t,r){var o=a(t.property.name);if(f.hasOwnProperty(o.name))for(var i=f[o.name],s=0;s<i.length;s++){var l=n(o.prefix+i[s],t,r),u=e[l];if(u&&(!t.value.important||u.item.data.value.important))return u}}function i(e,t,r,i,a){var s=e.block.declarations;s.eachRight(function(e,t){var r=e.property.name,l=n(r,e,a),u=i[l];if(u&&!c.hasOwnProperty(r))e.value.important&&!u.item.data.value.important?(i[l]={block:s,item:t},u.block.remove(u.item),e.info={primary:e.info,merged:u.item.data.info}):(s.remove(t),u.item.data.info={primary:u.item.data.info,merged:e.info});else{var u=o(i,e,a);u?(s.remove(t),u.item.data.info={primary:u.item.data.info,merged:e.info}):(e.fingerprint=l,i[l]={block:s,item:t})}}),s.isEmpty()&&r.remove(t)}var a=e("../../utils/names.js").property,s=e("../../utils/names.js").keyword,l=e("../../utils/walk.js").rulesRight,u=e("../../utils/translate.js"),c={src:1},p={display:/table|ruby|flex|-(flex)?box$|grid|contents|run-in/i,"text-align":/^(start|end|match-parent|justify-all)$/i},f={"border-width":["border"],"border-style":["border"],"border-color":["border"],"border-top":["border"],"border-right":["border"],"border-bottom":["border"],"border-left":["border"],"border-top-width":["border-top","border-width","border"],"border-right-width":["border-right","border-width","border"],"border-bottom-width":["border-bottom","border-width","border"],"border-left-width":["border-left","border-width","border"],"border-top-style":["border-top","border-style","border"],"border-right-style":["border-right","border-style","border"],"border-bottom-style":["border-bottom","border-style","border"],"border-left-style":["border-left","border-style","border"],"border-top-color":["border-top","border-color","border"],"border-right-color":["border-right","border-color","border"],"border-bottom-color":["border-bottom","border-color","border"],"border-left-color":["border-left","border-color","border"],"margin-top":["margin"],"margin-right":["margin"],"margin-bottom":["margin"],"margin-left":["margin"],"padding-top":["padding"],"padding-right":["padding"],"padding-bottom":["padding"],"padding-left":["padding"],"font-style":["font"],"font-variant":["font"],"font-weight":["font"],"font-size":["font"],"font-family":["font"],"list-style-type":["list-style"],"list-style-position":["list-style"],"list-style-image":["list-style"]};t.exports=function(e){var t={},r=Object.create(null);l(e,function(e,n,o){if("Ruleset"===e.type){var a,s,l=this.stylesheet,u=(e.pseudoSignature||"")+"|"+e.selector.selectors.first().id;t.hasOwnProperty(l.id)?a=t[l.id]:(a={},t[l.id]=a),a.hasOwnProperty(u)?s=a[u]:(s={},a[u]=s),i.call(this,e,n,o,s,r)}})}},{"../../utils/names.js":41,"../../utils/translate.js":42,"../../utils/walk.js":44}],27:[function(e,t,r){function n(e,t,r){var n=e.selector.selectors,i=e.block.declarations,a=n.first().compareMarker,s={};r.nextUntil(t.next,function(t,l){if("Ruleset"!==t.type)return o.unsafeToSkipNode.call(n,t);if(e.pseudoSignature!==t.pseudoSignature)return!0;var u=t.selector.selectors.head,c=t.block.declarations,p=u.data.compareMarker;if(p in s)return!0;if(n.head===n.tail&&n.first().id===u.data.id)return i.appendList(c),void r.remove(l);if(o.isEqualDeclarations(i,c)){var f=u.data.id;return n.some(function(e,t){var r=e.id;return r>f?(n.insert(u,t),!0):t.next?void 0:(n.insert(u),!0)}),void r.remove(l)}return p===a?!0:void(s[p]=!0)})}var o=e("./utils.js"),i=e("../../utils/walk.js").rules;t.exports=function(e){i(e,function(e,t,r){"Ruleset"===e.type&&n(e,t,r)})}},{"../../utils/walk.js":44,"./utils.js":34}],28:[function(e,t,r){function n(e){var t=0;return e.each(function(e){t+=e.id.length+1}),t-1}function o(e){for(var t=0,r=0;r<e.length;r++)t+=e[r].length;return t+e.length-1}function i(e){return e.compareMarker in this}function a(e,t,r){var a=this.stylesheet.avoidRulesMerge,u=e.selector.selectors,c=e.block,p=Object.create(null);r.prevUntil(t.prev,function(f,h){if("Ruleset"!==f.type)return l.unsafeToSkipNode.call(u,f);var d=f.selector.selectors,m=f.block;if(e.pseudoSignature!==f.pseudoSignature)return!0;if(d.some(i,p))return!0;if(l.isEqualLists(d,u))return m.declarations.appendList(c.declarations),r.remove(t),!0;var g=l.compareDeclarations(c.declarations,m.declarations);if(g.eq.length){if(!g.ne1.length&&!g.ne2.length)return l.addSelectors(u,d),r.remove(h),!0;if(!a)if(g.ne1.length&&!g.ne2.length){var v=n(u),y=o(g.eq);y>v&&(l.addSelectors(d,u),c.declarations=new s(g.ne1))}else if(!g.ne1.length&&g.ne2.length){var v=n(d),y=o(g.eq);y>v&&(l.addSelectors(u,d),m.declarations=new s(g.ne2))}else{var b={type:"Selector",info:{},selectors:l.addSelectors(d.copy(),u)},k=n(b.selectors)+2,y=o(g.eq);if(y>=k){var w={type:"Ruleset",info:{},pseudoSignature:e.pseudoSignature,selector:b,block:{type:"Block",info:{},declarations:new s(g.eq)}};return c.declarations=new s(g.ne1),m.declarations=new s(g.ne2.concat(g.ne2overrided)),r.insert(r.createItem(w),h),!0}}}d.each(function(e){p[e.compareMarker]=!0})})}var s=e("../../utils/list.js"),l=e("./utils.js"),u=e("../../utils/walk.js").rulesRight;t.exports=function(e){u(e,function(e,t,r){"Ruleset"===e.type&&a.call(this,e,t,r)})}},{"../../utils/list.js":40,"../../utils/walk.js":44,"./utils.js":34}],29:[function(e,t,r){var n=e("./prepare/index.js"),o=e("./1-initialMergeRuleset.js"),i=e("./2-mergeAtrule.js"),a=e("./3-disjoinRuleset.js"),s=e("./4-restructShorthand.js"),l=e("./6-restructBlock.js"),u=e("./7-mergeRuleset.js"),c=e("./8-restructRuleset.js");t.exports=function(e,t,r){var p=n(e,t);r("prepare",e),o(e),r("initialMergeRuleset",e),i(e),r("mergeAtrule",e),a(e),r("disjoinRuleset",e),s(e,p),r("restructShorthand",e),l(e),r("restructBlock",e),u(e),r("mergeRuleset",e),c(e),r("restructRuleset",e)}},{"./1-initialMergeRuleset.js":22,"./2-mergeAtrule.js":23,"./3-disjoinRuleset.js":24,"./4-restructShorthand.js":25,"./6-restructBlock.js":26,"./7-mergeRuleset.js":27,"./8-restructRuleset.js":28,"./prepare/index.js":31}],30:[function(e,t,r){function n(){this.seed=0,this.map=Object.create(null)}var o=e("../../../utils/translate.js");n.prototype.resolve=function(e){var t=this.map[e];return t||(t=++this.seed,this.map[e]=t),t},t.exports=function(){var e=new n,t=new n;return function(r){var n=r.property.name,i=o(r.value);return r.id=e.resolve(n)+(t.resolve(i)<<12),r.length=n.length+1+i.length,r}}},{"../../../utils/translate.js":42}],31:[function(e,t,r){function n(e,t,r){switch(e.type){case"Ruleset":e.block.declarations.each(t),l(e,r);break;case"Atrule":e.expression&&(e.expression.id=a(e.expression)),"keyframes"===o(e.name).name&&(e.block.avoidRulesMerge=!0,e.block.rules.each(function(e){e.selector.selectors.each(function(e){e.compareMarker=e.id})}))}}var o=e("../../../utils/names.js").keyword,i=e("../../../utils/walk.js").rules,a=e("../../../utils/translate.js"),s=e("./createDeclarationIndexer.js"),l=e("./processSelector.js");t.exports=function(e,t){var r=s();return i(e,function(e){n(e,r,t)}),{declaration:r}}},{"../../../utils/names.js":41,"../../../utils/translate.js":42,"../../../utils/walk.js":44,"./createDeclarationIndexer.js":30,"./processSelector.js":32}],32:[function(e,t,r){var n=e("../../../utils/translate.js"),o=e("./specificity.js"),i={"first-letter":!0,"first-line":!0,after:!0,before:!0},a={link:!0,visited:!0,hover:!0,active:!0,"first-letter":!0,"first-line":!0,after:!0,before:!0};t.exports=function(e,t){var r=Object.create(null),s=!1;e.selector.selectors.each(function(e){var l="*",u=0;e.sequence.some(function(o){switch(o.type){case"Class":if(t&&t.scopes){var c=t.scopes[o.name]||0;if(0!==u&&c!==u)throw new Error("Selector can't has classes from different scopes: "+n(e));u=c}break;case"PseudoClass":a.hasOwnProperty(o.name)||(r[o.name]=!0,s=!0);break;case"PseudoElement":i.hasOwnProperty(o.name)||(r[o.name]=!0,s=!0);break;case"FunctionalPseudo":r[o.name]=!0,s=!0;break;case"Negation":r.not=!0,s=!0;break;case"Identifier":l=o.name;break;case"Combinator":l="*"}}),e.id=n(e),e.compareMarker=o(e).toString(),u&&(e.compareMarker+=":"+u),"*"!==l&&(e.compareMarker+=","+l)}),s&&(e.pseudoSignature=Object.keys(r).sort().join(","))}},{"../../../utils/translate.js":42,"./specificity.js":33}],33:[function(e,t,r){t.exports=function(e){var t=0,r=0,n=0;return e.sequence.each(function o(e){switch(e.type){case"SimpleSelector":case"Negation":e.sequence.each(o);break;case"Id":t++;break;case"Class":case"Attribute":case"FunctionalPseudo":r++;break;case"Identifier":"*"!==e.name&&n++;break;case"PseudoElement":n++;break;case"PseudoClass":var i=e.name.toLowerCase();"before"===i||"after"===i||"first-line"===i||"first-letter"===i?n++:r++}}),[t,r,n]}},{}],34:[function(e,t,r){function n(e,t){for(var r=e.head,n=t.head;null!==r&&null!==n&&r.data.id===n.data.id;)r=r.next,n=n.next;return null===r&&null===n}function o(e,t){for(var r=e.head,n=t.head;null!==r&&null!==n&&r.data.id===n.data.id;)r=r.next,n=n.next;return null===r&&null===n}function i(e,t){for(var r={eq:[],ne1:[],ne2:[],ne2overrided:[]},n=Object.create(null),o=Object.create(null),i=t.head;i;i=i.next)o[i.data.id]=!0;for(var i=e.head;i;i=i.next){var a=i.data;a.fingerprint&&(n[a.fingerprint]=a.value.important),o[a.id]?(o[a.id]=!1,r.eq.push(a)):r.ne1.push(a)}for(var i=t.head;i;i=i.next){var a=i.data;o[a.id]&&(u.call(n,a.fingerprint)&&Number(n[a.fingerprint])>=Number(a.value.important)?r.ne2overrided.push(a):r.ne2.push(a))}return r}function a(e,t){return t.each(function(t){for(var r=t.id,n=e.head;n;){var o=n.data.id;if(o===r)return;if(o>r)break;n=n.next}e.insert(e.createItem(t),n)}),e}function s(e,t){return e.some(function(e){return t.some(function(t){return e.compareMarker===t.compareMarker})})}function l(e){switch(e.type){case"Ruleset":return s(e.selector.selectors,this);case"Atrule":if(e.block)return"StyleSheet"!==e.block.type?!1:e.block.rules.some(l,this)}return!0}var u=Object.prototype.hasOwnProperty;t.exports={isEqualLists:n,isEqualDeclarations:o,compareDeclarations:i,addSelectors:a,hasSimilarSelectors:s,unsafeToSkipNode:l}},{}],35:[function(e,t,r){function n(e,t){var r=Object.create(null);if(!Array.isArray(e))return!1;for(var n=0;n<e.length;n++){
var o=e[n];t&&(o=o.toLowerCase()),r[o]=!0}return r}function o(e){var t=!1;if(e.scopes&&Array.isArray(e.scopes)){t=Object.create(null);for(var r=0;r<e.scopes.length;r++){var o=e.scopes[r];if(!o||!Array.isArray(o))throw new Error("Wrong usage format");for(var a=0;a<o.length;a++){var s=o[a];if(i.call(t,s))throw new Error("Class can't be used for several scopes: "+s);t[s]=r+1}}}return{tags:n(e.tags,!0),ids:n(e.ids),classes:n(e.classes),scopes:t}}var i=Object.prototype.hasOwnProperty;t.exports={buildIndex:o}},{}],36:[function(e,t,r){function n(e,t,r,n){return t.debug&&console.error("## "+e+" done in %d ms\n",Date.now()-r),n}function o(e){var t;return function(r,n){var o=r;if(n&&(o="["+((Date.now()-t)/1e3).toFixed(3)+"s] "+o),e>1&&n){var i=f(n,!0);2===e&&i.length>256&&(i=i.substr(0,256)+"..."),o+="\n  "+i+"\n"}console.error(o),t=Date.now()}}function i(e){var t={};for(var r in e)t[r]=e[r];return t}function a(e){return e=i(e),"function"!=typeof e.logger&&e.debug&&(e.logger=o(e.debug)),e}function s(e,t,r){r=r||{};var o,i=r.filename||"<unknown>",s=n("parsing",r,Date.now(),c(t,{context:e,filename:i,positions:Boolean(r.sourceMap)})),l=n("compress",r,Date.now(),p(s,a(r)));return o=r.sourceMap?n("translateWithSourceMap",r,Date.now(),function(){var e=h(l.ast);return e.map._file=i,e.map.setSourceContent(i,t),e}()):n("translate",r,Date.now(),{css:f(l.ast),map:null})}function l(e,t){return s("stylesheet",e,t)}function u(e,t){return s("block",e,t)}var c=e("./parser"),p=e("./compressor"),f=e("./utils/translate"),h=e("./utils/translateWithSourceMap"),d=e("./utils/walk");t.exports={version:e("../package.json").version,minify:l,minifyBlock:u,parse:c,compress:p,translate:f,translateWithSourceMap:h,walk:d.all,walkRules:d.rules,walkRulesRight:d.rulesRight}},{"../package.json":56,"./compressor":21,"./parser":38,"./utils/translate":42,"./utils/translateWithSourceMap":43,"./utils/walk":44}],37:[function(e,t,r){r.TokenType={String:"String",Comment:"Comment",Unknown:"Unknown",Newline:"Newline",Space:"Space",Tab:"Tab",ExclamationMark:"ExclamationMark",QuotationMark:"QuotationMark",NumberSign:"NumberSign",DollarSign:"DollarSign",PercentSign:"PercentSign",Ampersand:"Ampersand",Apostrophe:"Apostrophe",LeftParenthesis:"LeftParenthesis",RightParenthesis:"RightParenthesis",Asterisk:"Asterisk",Pl